<!doctype html><html lang=en itemscope itemtype=http://schema.org/WebPage><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><title>Understanding Generics in Kotlin - xizzhu</title><meta name=description content="Generics is a powerful tool, but it often seems confusing. In this article, we&rsquo;ll try to explain how to use it in Kotlin."><meta name=author content="Xizhi Zhu"><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","name":"xizzhu","url":"https:\/\/xizzhu.me\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Organization","name":"","url":"https:\/\/xizzhu.me\/"}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https:\/\/xizzhu.me\/","name":"home"}},{"@type":"ListItem","position":3,"item":{"@id":"https:\/\/xizzhu.me\/post\/2020-06-06-kotlin-generics\/","name":"Understanding generics in kotlin"}}]}</script><script type=application/ld+json>{"@context":"http://schema.org","@type":"Article","author":{"name":"Xizhi Zhu"},"headline":"Understanding Generics in Kotlin","description":"Generics is a powerful tool, but it often seems confusing. In this article, we\u0026rsquo;ll try to explain how to use it in Kotlin.\n","inLanguage":"en","wordCount":910,"datePublished":"2020-06-06T00:00:00","dateModified":"2020-06-06T00:00:00","image":"https:\/\/xizzhu.me\/images\/logo.png","keywords":["kotlin"],"mainEntityOfPage":"https:\/\/xizzhu.me\/post\/2020-06-06-kotlin-generics\/","publisher":{"@type":"Organization","name":"https:\/\/xizzhu.me\/","logo":{"@type":"ImageObject","url":"https:\/\/xizzhu.me\/images\/logo.png","height":60,"width":60}}}</script><meta property="og:title" content="Understanding Generics in Kotlin"><meta property="og:description" content="Generics is a powerful tool, but it often seems confusing. In this article, we&rsquo;ll try to explain how to use it in Kotlin."><meta property="og:image" content="https://xizzhu.me/images/logo.png"><meta property="og:url" content="https://xizzhu.me/post/2020-06-06-kotlin-generics/"><meta property="og:type" content="website"><meta property="og:site_name" content="xizzhu"><meta name=twitter:title content="Understanding Generics in Kotlin"><meta name=twitter:description content="Generics is a powerful tool, but it often seems confusing. In this article, we&rsquo;ll try to explain how to use it in Kotlin."><meta name=twitter:image content="https://xizzhu.me/images/logo.png"><meta name=twitter:card content="summary"><meta name=twitter:site content="@xizzhu"><meta name=twitter:creator content="@xizzhu"><link href=https://xizzhu.me/images/logo.png rel=icon type=image/x-icon><meta name=generator content="Hugo 0.118.2"><link rel=alternate href=https://xizzhu.me/index.xml type=application/rss+xml title=xizzhu><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css integrity=sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.5.0/css/all.css integrity=sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU crossorigin=anonymous><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><link rel=stylesheet href=https://xizzhu.me/css/main.css><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic"><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800"><link rel=stylesheet href=https://xizzhu.me/css/syntax.css><link rel=stylesheet href=https://xizzhu.me/css/codeblock.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css integrity=sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css integrity=sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R crossorigin=anonymous><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-128400000-1","auto"),ga("send","pageview"))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class=container-fluid><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#main-navbar>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button>
<a class=navbar-brand href=https://xizzhu.me/>xizzhu</a></div><div class="collapse navbar-collapse" id=main-navbar><ul class="nav navbar-nav navbar-right"><li><a title=About href=/pages/about/>About</a></li><li><a title=Posts href=/post>Posts</a></li><li><a title=Bible href=/bible>Bible</a></li><li><a title=随笔 href=/%e9%9a%8f%e7%ac%94>随笔</a></li></ul></div><div class=avatar-container><div class=avatar-img-border><a title=xizzhu href=https://xizzhu.me/><img class=avatar-img src=https://xizzhu.me/images/logo.png alt=xizzhu></a></div></div></div></nav><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><header class=header-section><div class="intro-header no-img"><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><h1>Understanding Generics in Kotlin</h1><span class=post-meta><i class="fas fa-calendar"></i>&nbsp;Posted on June 6, 2020
&nbsp;|&nbsp;<i class="fas fa-user"></i>&nbsp;Xizhi Zhu</span></div></div></div></div></div></header><div class=container role=main><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><article role=main class=blog-post><p><a href=https://kotlinlang.org/docs/reference/generics.html>Generics</a> is a powerful tool, but it often seems confusing. In this article, we&rsquo;ll try to explain how to use it in Kotlin.</p><h3 id=what-is-generics>What is Generics?</h3><p>Generics in Java or Kotlin is similar to templates in C++. <strong>It enables types to be used as parameters when defining classes, interfaces, and methods.</strong> Compared to non-generic code, Generics provides compile-time type safety checks, and also makes it easier to implement generic algorithms.</p><p>The follow code snippet shows the basic usage of Generics:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#75715e>// defines a generic class Box with a type variable T
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Box</span>&lt;T&gt; {
</span></span><span style=display:flex><span>    <span style=color:#75715e>// defines a variable, t, of type nullable T
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#66d9ef>private</span> <span style=color:#66d9ef>var</span> t: T? = <span style=color:#66d9ef>null</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>get</span>(): T? = t
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>set</span>(t: T) {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>this</span>.t = t
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// to use it, we need to specify the type variable to be e.g. Int
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>val</span> boxOfInt: Box&lt;Int&gt; = Box()
</span></span><span style=display:flex><span>boxOfInt.<span style=color:#66d9ef>set</span>(<span style=color:#ae81ff>5</span>) <span style=color:#75715e>// won&#39;t compile if passing e.g. a string
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>val</span> i = boxOfInt.<span style=color:#66d9ef>get</span>() <span style=color:#75715e>// type of i is known to be Int? at compile time</span></span></span></code></pre></div></p><h4 id=upper-bounds>Upper Bounds</h4><p>We can also specify an <strong>upper bound</strong> to limit the type accepted, e.g.:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Box</span>&lt;T : Number&gt; {
</span></span><span style=display:flex><span>    <span style=color:#f92672>..</span>.
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>It means that the type must be either <code>Number</code> or a subclass of it. If no upper bound is specified, the default bound is <code>Any?</code>.</p><p>We can also specify the upper bound to be more than one type using <strong>where</strong> clause, e.g.:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Box</span>&lt;T&gt; <span style=color:#66d9ef>where</span> T : Number, T : AutoCloseable {
</span></span><span style=display:flex><span>    <span style=color:#f92672>..</span>.
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>It means that the type <code>T</code> must extend <code>Number</code> and implement <code>AutoCloseable</code>. Obviously, there can be <strong>at most one</strong> of the upper bounds can be a class.</p><h4 id=type-erasure>Type Erasure</h4><p>One thing to note is that the type information is <strong>only available at compile time</strong>. At runtime, JVM does not hold any information about the actual type argument. This is called <strong>type erasure</strong>.</p><p>For example, JVM can&rsquo;t distinguish between <code>MutableList&lt;String></code> and <code>MutableList&lt;Int></code>, so the follow code actually works:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> strings = mutableListOf&lt;String&gt;()
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> unsafeCast = strings <span style=color:#66d9ef>as</span> MutableList&lt;Int&gt; <span style=color:#75715e>// compiler just throws an unchecked cast warning
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>unsafeCast.add(<span style=color:#ae81ff>666</span>)</span></span></code></pre></div></p><p>However, this is dangerous, because it will crash with a <code>ClassCastException</code> when we try to get the element from <code>strings</code>: we expect a <code>String</code>, but get an <code>Int</code>. This is why <a href=/post/2020-04-10-effective-kotlin-generics/>Effective Java</a> suggests us to eliminate all unchecked cast warnings.</p><h3 id=variance>Variance</h3><p>Now let&rsquo;s take one step further. Think about the following two lines of code:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>val</span> strings = mutableListOf&lt;String&gt;()
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> objs: MutableList&lt;Any&gt; = strings</span></span></code></pre></div></p><p>At first glance, this might look reasonable: <code>String</code> is subclass of <code>Any</code>, so <code>MutableList&lt;String></code> should be subclass of <code>MutableList&lt;Any></code>.</p><p>However, we will still end up with the same problem:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span>objs.add(<span style=color:#ae81ff>666</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>val</span> str: String = strings[<span style=color:#ae81ff>0</span>]</span></span></code></pre></div></p><p>Here, we&rsquo;re trying to add an integer to <code>objs</code>, which is actually a list of strings. Then when fetching it, a runtime exception will be thrown.</p><p>To solve this problem, generic types are <strong>invariant</strong>, meaning <code>MutableList&lt;String></code> is <strong>NOT</strong> a subclass of <code>MutableList&lt;Any></code>. Therefore, we can&rsquo;t assign <code>strings</code> to <code>objs</code>, and the code won&rsquo;t compile.</p><p>However, this comes with a price. Think about a simple <code>addAll()</code> method:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MutableCollection</span>&lt;E&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>addAll</span>(c: MutableCollection&lt;E&gt;);
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>It looks correct, but the following code, which is perfectly safe, doesn&rsquo;t compile, because <code>List&lt;String></code> is not a subclass of <code>List&lt;Any></code>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span>val objs <span style=color:#f92672>=</span> arrayListOf<span style=color:#f92672>&lt;</span>Any<span style=color:#f92672>&gt;()</span>
</span></span><span style=display:flex><span>val strings <span style=color:#f92672>=</span> arrayListOf<span style=color:#f92672>&lt;</span>String<span style=color:#f92672>&gt;()</span>
</span></span><span style=display:flex><span>objs<span style=color:#f92672>.</span><span style=color:#a6e22e>addAll</span><span style=color:#f92672>(</span>strings<span style=color:#f92672>)</span></span></span></code></pre></div></p><p>To solve this problem, Kotlin provides <strong>declaration-site variance</strong> and <strong>use-site variance</strong>.</p><h4 id=declaration-site-variance>Declaration-site Variance</h4><p>As the name suggests, with <strong>declaration-site variance</strong>, we annotate how the type parameter is used when declaring it.</p><p>For example, Kotlin&rsquo;s <code>Collection</code> interface is annotated as below:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Collection</span>&lt;<span style=color:#66d9ef>out</span> E&gt; {
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>Here, the <code>out</code> modifier indicates that the class <strong>only produces</strong> elements of type <code>E</code>, but <strong>never consumes</strong> them. In another word, clients can <strong>safely read</strong> elements of type <code>E</code> from the class, but <strong>cannot write</strong> to it. This is called <strong>covariant</strong>.</p><p>In practice, it means that e.g. <code>Collection&lt;String></code> is a subclass of <code>Collection&lt;Any></code>. Therefore, we can get the <code>addAll()</code> method working by changing the parameter type to <code>Collection&lt;E></code>:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>MutableCollection</span>&lt;E&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>addAll</span>(c: Collection&lt;E&gt;)
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>There&rsquo;s also the complementary variance annotation, <code>in</code>. It makes the type <strong>contravariant</strong>, meaning it <strong>can only be consumed, but never produced</strong> by the class, e.g.:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>interface</span> <span style=color:#a6e22e>Comparable</span>&lt;<span style=color:#66d9ef>in</span> T&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>operator</span> <span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>compareTo</span>(other: T): Int
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>In Kotlin, we call this <strong>Consumer in, Producer out</strong>.</p><h4 id=use-site-variance>Use-site Variance</h4><p>However, it&rsquo;s not always possible to annotate the type parameter when declaring it, such as <code>MutableList&lt;E></code> or <code>Array&lt;T></code>, because they can both produce and also consume the generic type. In this case, we need to annotate when using them, thus called <strong>use-site variance</strong>.</p><p>For example, we can define a copy function like below:<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=display:flex><span><span style=color:#66d9ef>fun</span> <span style=color:#a6e22e>copy</span>(src: Array&lt;<span style=color:#66d9ef>out</span> Any&gt;, dest: Array&lt;Any&gt;) {
</span></span><span style=display:flex><span>    <span style=color:#f92672>..</span>.
</span></span><span style=display:flex><span>}</span></span></code></pre></div></p><p>Here, <code>src</code> is no longer a normal array, but <em>projected</em> to be a &ldquo;producer&rdquo; array. It means that we can only read from it, but cannot write to it. This technique is called <strong>type projection</strong>.</p><h4 id=star-projection>Star Projection</h4><p>There are also cases when we do not know anything about the type argument, e.g. when dealing Java&rsquo;s raw types. Kotlin provides <strong>star projection</strong> for us to use it in a safe way:</p><ul><li><p>For <code>Foo&lt;T : Upper></code> and <code>Foo&lt;out T : Upper></code>, using <code>Foo&lt;*></code> for reading is equivalent to <code>Foo&lt;out Upper></code>. It means that we can <strong>safely read values of type <code>T</code></strong> from <code>Foo&lt;*></code>.</p></li><li><p>For <code>Foo&lt;T : Upper></code> and <code>Foo&lt;in T></code>, using <code>Foo&lt;*></code> for writing is equivalent to <code>Foo&lt;in Nothing></code>, meaning we <strong>cannot write</strong> values to it.</p></li></ul><h3 id=conclusion>Conclusion</h3><p>Hopefully, this article could give you enough idea about Generics in Kotlin, especially variance.</p><div class=blog-tags><a href=https://xizzhu.me//tags/kotlin/>kotlin</a>&nbsp;</div><hr><section id=social-share><div class="list-inline footer-links"><div class=share-box aria-hidden=true><ul class=share><li><a href="//twitter.com/share?url=https%3a%2f%2fxizzhu.me%2fpost%2f2020-06-06-kotlin-generics%2f&amp;text=Understanding%20Generics%20in%20Kotlin&amp;via=xizzhu" target=_blank title="Share on Twitter"><i class="fab fa-twitter"></i></a></li><li><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fxizzhu.me%2fpost%2f2020-06-06-kotlin-generics%2f" target=_blank title="Share on Facebook"><i class="fab fa-facebook"></i></a></li><li><a href="//reddit.com/submit?url=https%3a%2f%2fxizzhu.me%2fpost%2f2020-06-06-kotlin-generics%2f&amp;title=Understanding%20Generics%20in%20Kotlin" target=_blank title="Share on Reddit"><i class="fab fa-reddit"></i></a></li><li><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fxizzhu.me%2fpost%2f2020-06-06-kotlin-generics%2f&amp;title=Understanding%20Generics%20in%20Kotlin" target=_blank title="Share on LinkedIn"><i class="fab fa-linkedin"></i></a></li><li><a href="//www.stumbleupon.com/submit?url=https%3a%2f%2fxizzhu.me%2fpost%2f2020-06-06-kotlin-generics%2f&amp;title=Understanding%20Generics%20in%20Kotlin" target=_blank title="Share on StumbleUpon"><i class="fab fa-stumbleupon"></i></a></li><li><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fxizzhu.me%2fpost%2f2020-06-06-kotlin-generics%2f&amp;description=Understanding%20Generics%20in%20Kotlin" target=_blank title="Share on Pinterest"><i class="fab fa-pinterest"></i></a></li></ul></div></div></section><h4 class=see-also>See also</h4><ul><li><a href=/post/2023-11-10-kotlin-coroutine-concurrency/>limitedParallelism() doesn't limit concurrency</a></li><li><a href=/post/2023-05-02-kotlin-coroutine-cancellation-exception-suspend/>Cancelling coroutines is easy, right?</a></li><li><a href=/post/2021-06-28-kotlin-multiplatform-mobile-kmm/>Getting started with Kotlin Multiplaform Mobile (KMM)</a></li><li><a href=/post/2021-06-21-android-mvi-kotlin-coroutines-flow-compose/>Model-View-Intent Design Pattern on Android</a></li><li><a href=/post/2020-05-02-design-patterns-kotlin-behavioral-patterns/>Design Patterns in Kotlin: Behavioral Patterns</a></li></ul></article><ul class="pager blog-pager"><li class=previous><a href=https://xizzhu.me/post/2020-05-18-android-activity-service-communication/ data-toggle=tooltip data-placement=top title="Different ways Activities communicating with Services on Android">&larr; Previous Post</a></li><li class=next><a href=https://xizzhu.me/post/2020-07-25-dependency-injection-hilt/ data-toggle=tooltip data-placement=top title="Dependency Injection with Hilt">Next Post &rarr;</a></li></ul><div class=disqus-comments><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//xizhi-zhu.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></div><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center footer-links"><li><a href=https://github.com/xizzhu title=GitHub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://twitter.com/xizzhu title=Twitter><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-twitter fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://linkedin.com/in/xizhizhu title=LinkedIn><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a href=https://stackoverflow.com/users/1664863/xizzhu title=StackOverflow><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="credits copyright text-muted">Xizhi Zhu
&nbsp;&bull;&nbsp;&copy;
2023
&nbsp;&bull;&nbsp;
<a href=https://xizzhu.me/>xizzhu</a></p><p class="credits theme-by text-muted"><a href=https://gohugo.io>Hugo v0.118.2</a> powered &nbsp;&bull;&nbsp; Theme <a href=https://github.com/halogenica/beautifulhugo>Beautiful Hugo</a> adapted from <a href=https://deanattali.com/beautiful-jekyll/>Beautiful Jekyll</a></p></div></div></div></footer><script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js integrity=sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js integrity=sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe crossorigin=anonymous></script>
<script src=https://code.jquery.com/jquery-1.12.4.min.js integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin=anonymous></script>
<script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js integrity=sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa crossorigin=anonymous></script>
<script src=https://xizzhu.me/js/main.js></script><script>renderMathInElement(document.body)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js integrity=sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy crossorigin=anonymous></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js integrity=sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q crossorigin=anonymous></script><script src=https://xizzhu.me/js/load-photoswipe.js></script></body></html>